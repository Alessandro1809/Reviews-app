---
import type { GetStaticPaths } from 'astro';
import { actions } from 'astro:actions';

import Layout from '../../layouts/Layout.astro';

export const prerender = true


export const getStaticPaths = (async () => {
  const { data } = await actions.getPlaces();

  if (!data) {
    throw new Error('No data retured from getPlaces');
  }

  return data.map((place) => ({
    params: {
      id: place.id,
    },
    props: {
      place,
    },
  }));
}) satisfies GetStaticPaths;

const { id } = Astro.params;
const { place } = Astro.props;

console.log(place);

---

<Layout>
  <div class="grid grid-cols-2 gap-2">
    <div class="bg-white/80 p-5 rounded-xl">
      <h1 class="text-3xl font-extrabold tracking-wide bg-gradient-to-tr from-rose-500 to-purple-500 bg-clip-text text-transparent w-32 h-20">{}</h1>
    </div>
  </div>
</Layout>